

<!DOCTYPE html>
<html lang="en">
<head>
  <title id='Description'>In this sample is demonstrated how to integrate jqxGrid with jqxSplitter</title>

  <link rel="stylesheet" href="/bower_components/AdminLTE/bootstrap/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="/bower_components/ionicons/css/ionicons.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="/bower_components/AdminLTE/dist/css/AdminLTE.min.css">
  <link rel="stylesheet" href="/bower_components/AdminLTE/dist/css/skins/skin-green.min.css">

  <link rel="stylesheet" href="/bower_components/jqwidgets/jqwidgets/styles/jqx.base.css" type="text/css"/>

</head>
<body class='default'>
  <div>
    <div id="mainSplitter">
        <div>
          <div id='creditCatalogTree' style='visibility: hidden; float: left; margin-left: 0px;'></div>
        </div>
        <div id="ContentPanel">
          <div id='secondSplitter'>
              <div style='visibility: hidden; float: left; margin-left: 0px;' id="productTree">
                <ul>
                  <li>
                    <img style='float: left; margin-right: 5px;' src='../images/jqwidgets/folder.png'/>
                    <span item-title="true">征信产品模板</span>
                  </li>
                </ul>
              </div>
              <div>
                <div class="box box-success">
                  <div class="box-header with-border">
                    <h3 class="box-title">征信产品定制</h3>
                  </div>
                  <!-- /.box-header -->
                  <!-- form start -->
                  <form class="form-horizontal">
                    <div class="box-body">
                      <div class="form-group">
                        <label for="itemName" class="col-sm-2 control-label">单位名称</label>
                        <div class="input-group col-sm-9">
                          <input id='itemName' type="text" class="form-control" />
                      <span class="input-group-btn">
                        <button id='Add' type="button" class="btn btn-success btn-flat" data-toggle="tooltip"
                                data-placement="top" title="增加子项">
                          <i class="fa fa-indent"></i></button>
                        <button id='AddAfter' type="button" class="btn btn-success btn-flat" data-toggle="tooltip"
                                data-placement="top" title="增加同级别项">
                          <i class="fa fa-outdent"></i></button>
                        <button id='Update' type="button" class="btn btn-success btn-flat" data-toggle="tooltip"
                                data-placement="top" title="修改当前项">
                          <i class="fa fa-refresh"></i></button>
                        <button id='Remove' type="button" class="btn btn-success btn-flat" data-toggle="tooltip"
                                data-placement="top" title="删除当前项">
                          <i class="fa fa-remove"></i></button>
                        <button id='CollapseAll' type="button" class="btn btn-success btn-flat" data-toggle="tooltip"
                                data-placement="top" title="层级折叠">
                          <i class="fa fa-compress"></i></button>
                      </span>
                        </div>
                      </div>
                    </div>
                    <!-- /.box-body -->
                    <div class="box-footer">
                      <button type="submit" class="btn btn-default"><i class="fa fa-undo"></i> 取消</button>
                      <button type="submit" class="btn btn-success pull-right"><i class="fa fa-save"></i> 保存</button>
                    </div>
                    <!-- /.box-footer -->
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>
    <script src="/bower_components/AdminLTE/plugins/jQuery/jQuery-2.1.4.min.js"></script>

    <!-- Bootstrap 3.3.5 -->
    <script src="/bower_components/AdminLTE/bootstrap/js/bootstrap.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/bower_components/AdminLTE/dist/js/app.min.js"></script>

    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxscrollbar.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxpanel.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxdragdrop.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxtree.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxcheckbox.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxexpander.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxsplitter.js"></script>

    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxdata.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxmenu.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxgrid.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxgrid.sort.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxgrid.filter.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxgrid.selection.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxtabs.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxgrid.pager.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxgrid.columnsresize.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxlistbox.js"></script>
    <script type="text/javascript" src="/bower_components/jqwidgets/jqwidgets/jqxdropdownlist.js"></script>

    <script type="text/javascript" src="/app/scripts/main.js"></script>


    <script type="text/javascript">
      $(document).ready(function () {

        $(function () { $("[data-toggle='tooltip']").tooltip(); });

        $('#mainSplitter').jqxSplitter({ width: 900, height: 600, panels: [{ size: 300 }] });
        $('#secondSplitter').jqxSplitter({ width: '100%', height: '100%', panels: [{ size: 300,collapsible: false }] });

        $('#creditCatalogTree').jqxTree({ source: creditCatalogRecords, width: '100%',height: '100%', allowDrag: true, allowDrop: false});
        $('#creditCatalogTree').css('visibility', 'visible');

        $('#productTree').jqxTree({ allowDrag: true, allowDrop: true, height: '100%', width: '100%',
          dragEnd: function (item, dropItem, args, dropPosition, tree) {
            if (item.label == "Forum")
              return false;
          }
        });
        $('#productTree').css('visibility', 'visible');

        $("#creditCatalogTree, #productTree").on('dragStart', function (event) {
          $("#dragStartLog").text("Drag Start: " + event.args.label);
          $("#dragEndLog").text("");
        });

        $("#creditCatalogTree, #productTree").on('dragEnd', function (event) {
          $("#dragEndLog").text("Drag End");
          if (event.args.label) {
            var ev = event.args.originalEvent;
            var x = ev.pageX;
            var y = ev.pageY;
            if (event.args.originalEvent && event.args.originalEvent.originalEvent && event.args.originalEvent.originalEvent.touches) {
              var touch = event.args.originalEvent.originalEvent.changedTouches[0];
              x = touch.pageX;
              y = touch.pageY;
            }
          }
        });

        // Add
        $('#Add').click(function () {
          var selectedItem = $('#productTree').jqxTree('selectedItem');

          var itemName = $('#itemName').val();
          if (itemName == '') { itemName = '未命名单位';}

          if (selectedItem != null) {
            // adds an item with label: 'item' as a child of the selected item. The last parameter determines whether to refresh the Tree or not.
            // If you want to use the 'addTo' method in a loop, set the last parameter to false and call the 'render' method after the loop.
            $('#productTree').jqxTree('addTo', {label: itemName}, selectedItem.element, false);
            // update the tree.
            $('#productTree').jqxTree('render');
          }
          else {
            $('#productTree').jqxTree('addTo', {label: itemName}, null, false);
            // update the tree.
            $('#productTree').jqxTree('render');
          }
          $('#itemName').val('');
        });

        // Update
        $('#Update').click(function () {
          var selectedItem = $('#productTree').jqxTree('selectedItem');

          var itemName = $('#itemName').val();
          if (itemName == '') { itemName = '未命名单位';}

          if (selectedItem != null) {
            $('#productTree').jqxTree('updateItem', {label: itemName}, selectedItem.element);
            // update the tree.
            $('#productTree').jqxTree('render');
          }
          $('#itemName').val('');
        });

        // Add After
        $('#AddAfter').click(function () {
          var selectedItem = $('#productTree').jqxTree('selectedItem');

          var itemName = $('#itemName').val();
          if (itemName == '') { itemName = '未命名单位';}

          if (selectedItem != null) {
            $('#productTree').jqxTree('addAfter', {label: itemName}, selectedItem.element, false);
            // update the tree.
            $('#productTree').jqxTree('render');
          }
          $('#itemName').val('');
        });

        // Remove
        $('#Remove').click(function () {
          var selectedItem = $('#productTree').jqxTree('selectedItem');
          if (selectedItem != null) {
            // removes the selected item. The last parameter determines whether to refresh the Tree or not.
            // If you want to use the 'removeItem' method in a loop, set the last parameter to false and call the 'render' method after the loop.
            $('#productTree').jqxTree('removeItem', selectedItem.element, false);
            // update the tree.
            $('#productTree').jqxTree('render');
          }
        });

        // Collapse All
        $('#CollapseAll').click(function () {
          $('#productTree').jqxTree('collapseAll');
        });
      });

    </script>
</body>
</html>
